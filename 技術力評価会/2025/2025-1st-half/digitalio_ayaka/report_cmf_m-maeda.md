# 技術力評価会　評価結果

* 被評価者: 株式会社DIGITALIO メディア事業本部 TechUnit Affiliateチーム 小林彩花(あやか) 
* CMF プロダクト管轄 開発局 アフィリエイト部 前田 @brtriver

[評価資料](https://github.com/voyagegroup/tech-assessment_2025/blob/main/2025-1st-half/digitalio_ayaka/digitalio-ayaka.md)

## 総評
　ECナビの新規ユーザー流入処理における過去の負の遺産を整理し、管理しやすく得られる情報量も増えたという点は高く評価します。

　まず、このお仕事の一番たいへんなところは最後までやり切るということだと考えます。これまでもいろんな関わってきた人がレガシーな部分に苦労し文句を言いながらも具体的にどういう影響があるのか？どうすればいいのか？を考え行動に移すことができていなかった状態だったと考えます。

　この課題に小手先でどうにかできないことを理解し、新しい仕組みに置き換えていくという判断材料を揃え、チームとして営業サイドにも積極的にコミュニケーションをとり、いつまでにどうやっていくのか？をきちんと決めていくことができていることはとても大きいと考えます。

　そのためにやったこともむにゃる会をやることでチーム全体の見ている課題を明確にしたり、issueに残すなどの文化を作るという動きもいい動きだと考えます。

 　そのような動きができているからだと考えますが、PRを見てもチームでしっかりとレビューやディスカッションしている様子がわかりました。チームとしての動きをするためにも貢献できている部分があると考えます。

　その結果ビジネス、プロダクトの困りごとに対して正当に改修をし世界を作ることができていると考えます。

　また、そのような立ち回りをあやかさんが求められていることも理解し、手探りではありながらも着実に前に進めるために仕事を行ったというのがわかりました。ただ言われたことをコードで実装するだけでなく、プロダクトの将来像をきちんと見つつチームとして判断をする流れを作り出せていたのはあやかさんの成長があったからではないかと考えます。

　まだ完全にCIDを葬りさられていないという点では、道まだ半ばではありますが、評価会でやってきたこと、今後の方針を聞く限りは着実に進めていけそうだと評価します。

　他にもレガシーな部分(商材マスタのような)はいたるところにあるでしょうし、今回のように通知先との誤差がある連携のような多少数値がズレていても問題なさそうな領域だけではなく、リプレイスや移行に関してもっと慎重な手段を選ばなくてはならなくなることもでてくると考えます。

　そういったときには今回の経験を活かしつつ、さらに難易度の高い計画や調整、対応も必要になってくると考えますし、そういう経験をすることでより強いエンジニアとしてのバリューも出せていくことができると考えます。

## 評価者が被評価者の状況ならこう考える、こう動く

評価会中に質問はしましたが、気になったポイントは以下です。

### トランザクションの有効期限を1日ではなく最大限伸ばす

　Cookieへのデータ量の観点などで、保持期間を1日にするという話でしたが、従来でもCookieを使っていたことと、トランザクションIDだけをCookieに持つのであればそれほどデータ量は問題ないのではないかと考えます。

　それよりも、本来は流入経路がわかっているのに1日経過したためにオーガニックとして扱うことは従来とオーガニックの定義が変わってしまうことになるのではないかと考えますし、計測できたほうが良かったのではないかと考えます。

　技術的にどうしても困難であればしょうがないところですが、データ1行も大切なログなのでできるだけ正確に保持できるようにするべきだと考えます。

### 流入経路がなにかしらのCIDに紐づくという設計であれば最初にCIDに新IDをエイリアスとして発行

　チームでディスカッションして不採用になっていましたが、CIDでも動く必要があり、かつ新旧での件数違いをみるなどの対応が必要などの視点でいうと、手動で発行してしまうと登録ミスなどもなくてよいのではないかと考えます。が、件数も少なくないし不採用になったというのも理解できます。

### CIDとトランザクションでの差分は redashで差分割合が多いものだけ通知する

　redashの新旧の数のスクショがslackに投稿されるようになっていましたが、そこまでできているのであれば確認したいものだけが通知されるようにしたほうが人間スルーしなくなるのではないかと考えます。点な話なんですが。

### transactionかどうかでソケット発火の仕組みを切り替える部分はファクトリメソッドパターンに

https://github.com/voyagegroup/ecnavi/pull/20243/files#diff-9a6de1ccf938ed18a69aeb07fd0218fe691053f9585c820593b72b885ad20588R376

既存コードにif文で生やすとなると、そこに新旧のコードが混じってしまうので、以下のようにわけちゃうと後で誰かがさわるときに過去の負の遺産にふれることが少なくていいのではないかと考えます。

```php
        // これはダミーコードなのでもう少しきちんと設計が必要だけど

        // PostbackManagerFactoryでインスタンスを生成
        $postbackManagerFactory = new PostbackManagerFactory(
            $this->registerTransactionManager,
            $this->socketGenerator,
            $this->sender,
            $this->signup
        );

        // トランザクションの有無に応じて適切なPostbackManagerを生成
        $postbackManager = $postbackManagerFactory->createPostbackManager();

        // 実行処理を抽象化
        $postbackManager->sendPostback($key, $form);
```

## 能力向上に関するアドバイス

### プロダクト推進力の向上
　今回やってきたことをさらに進めていけばあやかさんのプロダクト推進力はどんどん鍛えられていくと考えますので、ひきつづき意識してできると良いと考えます。

 今後戦うであろうプロジェクトは難易度が更にあがると思いますし、より経験を積むことができるはずです。

### レガシーシステムの改善
　一方でナビのレガシーとの戦いでいうと、そもそものコードのベース設計が継承だらけだったり、読みづらいというのもあります。つまり、リプレイスしたシステムも同じ設計のもとで書いてしまうと比較的早い段階で保守運用が辛いということになるかもしれません。そういう意味ではPHP8でゼロベースで管理しやすいナビの基盤コードを整備するというようなプロジェクトも必要かもしれませんし、そういう視点での改善も今回とおなじような推進力をもってできるといいと考えます。(PHPである必要はないんですが)

### 強い技術力ある人の知見を理解し自分の考えに昇華させる

 　設計や実装において、評価会中の質疑応答で少し不安に感じる部分がありました。この点においてはいわゆる技術力においてもさらに成長の余地があると考えます。

 　技術力を鍛えるという点において、必ずしも自分自身で、ベストな設計・実装をする必要はありません。チームの技術力が高い人や、twadaなどのコーチに優れた人にガンガン相談し、その相談結果も踏まえて自分でどうすべきかの判断をできるかどうかも重要な技術力です。

 　周りの強い人の考えを集め、その本質の理解することができれば、それは誰かの考えではなく、あやかさん自身の考えた結果として周りに説明できるようになるはずです。

 　もっと周りのエンジニアを巻き込み多面的に考えをみることで技術力をより磨くことができると考えます。

### データ分析と可視化の推進
　また、ステータスが管理できるようになってより詳細なユーザーの行動が見れるようになったのをここで止めずに、あやかさん視点でいいのでどういう傾向が流入元によってあるのか？離脱が多いポイントはどこなのか？A/Bテストができる仕組みを考えてみる。などプロダクトの課題の可視化の動きなども積極的にできるといいと考えます。

　まわりからの期待をどんどん超えていくスタートが今の状況だと理解しました。
